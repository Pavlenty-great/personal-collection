<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏</title>
    <link rel="stylesheet" href="{% static 'css/add_book.css' %}">
</head>
<body>
    <div id="bookModal" class="modal">
        <div class="modal-content">
            <h1>üìö –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏</h1>
            <span class="close">&times;</span>

            <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
            {% if messages %}
            <div class="messages">
                {% for message in messages %}
                <div class="message {{ message.tags }}">
                    {{ message }}
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <form action="{% url 'add_book' %}" method="POST" id="addBookForm">
                {% csrf_token %}
                <input type="hidden" id="authorsData" name="authors_data">
                
                <div class="form-section">
                    <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ</h3>
                    
                    <label for="bookName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏:*</label>
                    <input type="text" id="bookName" name="bookName" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required maxlength="80">
                    
                    <label for="bookYear">–ì–æ–¥ –∏–∑–¥–∞–Ω–∏—è:*</label>
                    <input type="text" id="bookYear" name="bookYear" 
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2023" pattern="\d{4}" 
                           maxlength="4" required title="4 —Ü–∏—Ñ—Ä—ã –≥–æ–¥–∞">
                    
                    <label for="bookPlace">–ú–µ—Å—Ç–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:*</label>
                    <input type="text" id="bookPlace" name="bookPlace" 
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–æ—Å–∫–≤–∞" required maxlength="80">
                </div>
                
                <div class="form-section">
                    <h3>–ê–≤—Ç–æ—Ä—ã –∫–Ω–∏–≥–∏</h3>
                    <p class="author-hint">–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ 5 –∞–≤—Ç–æ—Ä–æ–≤. –ü–µ—Ä–≤—ã–π –∞–≤—Ç–æ—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.</p>
                    
                    <div class="authors-container" id="authorsContainer">
                        <!-- –ê–≤—Ç–æ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                    
                    <button type="button" id="addAuthorBtn" class="add-author-btn">
                        ‚ûï –î–æ–±–∞–≤–∏—Ç—å –µ—â–µ –∞–≤—Ç–æ—Ä–∞
                    </button>
                </div>
                
                <div class="button-container">
                    <button type="submit" class="add-button" id="submitBtn">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</button>
                    <button type="button" class="close-button" id="closeModalBtn">‚úñ –ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </form>
        </div>
    </div>
    
    <script src="{% static 'js/add_book.js' %}"></script>
</body>
</html>